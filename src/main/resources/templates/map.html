<html xmlns:th="http://www.thymeleaf.org">
<span th:fragment="content(listArea)">
    <div id="map"></div>
    <script th:inline="javascript">
        function initMap() {

            // Styles a map in night mode.
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 50.324367, lng: 3.512873},
                zoom: 15
            });

            /*[# th:each="area : ${listArea}"]*/

            /*<![CDATA[*/

            var X1 = [[${listArea.get(area.getId()).getCoordinatesXY().getX1()}]];
            var X2 = [[${listArea.get(area.id).getCoordinatesXY().getX2()}]];
            var X3 = [[${listArea.get(area.id).getCoordinatesXY().getX3()}]];
            var X4 = [[${listArea.get(area.id).getCoordinatesXY().getX4()}]];
            var Y1 = [[${listArea.get(area.id).getCoordinatesXY().getY1()}]];
            var Y2 = [[${listArea.get(area.id).getCoordinatesXY().getY2()}]];
            var Y3 = [[${listArea.get(area.id).getCoordinatesXY().getY3()}]];
            var Y4 = [[${listArea.get(area.id).getCoordinatesXY().getY4()}]];

            /*]]>*/

            console.log(X1);
            console.log(X2);
            console.log(X3);
            console.log(X4);
            console.log(Y1);
            console.log(Y2);
            console.log(Y3);
            console.log(Y4);

            // Define the LatLng coordinates for the polygon's path.
            var carreCoords = [
                {lat: X1, lng: Y1},
                {lat: X2, lng: Y2},
                {lat: X3, lng: Y3},
                {lat: X4, lng: Y4},
                {lat: X1, lng: Y1}
            ];

            // Construct the polygon.
            var carreBuilder = new google.maps.Polygon({
                paths: carreCoords,
                strokeColor: '#FF0000',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#FF0000',
                fillOpacity: 0.35,
                content: "TEST"
            });

            carreBuilder.setMap(map);

            /*[/]*/
        }
    </script>

    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcKwxj6ZNHR5rdHZ3bvdRyE7MHp0oJJzU&callback=initMap">
    </script>
</span>