<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="content">
	<div class="jumbotron jumbotron-fluid title-section">
		<div class="container">
			<!-- En attente de l'API, données en brutes pour l'instant -->
			<!--             <h1 class="title-content" th:text="'Capteur #' + ${capteur.id}"></h1> -->
			<h1 class="title-content" th:text="'Capteur #' + ${capteur.idSensor}"></h1>

			<form action="#" th:action="@{/application}" th:object="${String}" method="post">
				<input type="hidden" name="select" th:value="capteurs"/>
				<button class="btn btn-secondary mb-3 mt-5" type="submit"><i class="fas fa-arrow-left"></i> Retour à la liste</button>
			</form>

			<div id="detailSensor1" class="detailSensorBlock">
				<div class="row" >
					<div class="col-12 text-center mt-4">
						<table class="table table-bordered table-sensor">
							<thead class="thead-dark">
							<tr>
								<th scope="col">N°</th>
								<th scope="col">Nom</th>
								<th scope="col">Latitude</th>
								<th scope="col">Longitude</th>
								<th scope="col">Température</th>
								<th scope="col">Luminance</th>
								<th scope="col">Niveau de Batterie</th>
								<!-- <th scope="col">Statut</th> -->
							</tr>
							</thead>
							<tbody>
							<tr class="rowSensor">
								<td class="td-id" th:text="${capteur.idSensor}"></td>
								<td class="td-name" th:text="${capteur.sensorName}"></td>
								<td class="td-latitude" id="latitude" th:text="${capteur.latitude}"></td>
								<td class="td-longitude" id="longitude" th:text="${capteur.longitude}"></td>
								<td class="td-temperature" th:text="${capteur.temperature}"></td>
								<td class="td-brightness" th:text="${capteur.luminance}"></td>
								<td class="td-battery" th:text="${capteur.batteryLevel}"></td>
								<!-- <td class="td-statut">Fonctionnel</td> -->
							</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div id="mapCapteur" class="mx-4 mb-4" style="height:200px;" ></div>
				<script>

					function initMap() {
						var latitude = parseFloat(document.getElementById("latitude").innerText);
						var longitude = parseFloat(document.getElementById("longitude").innerText);
						var location = {lat: latitude, lng: longitude};

						var map = new google.maps.Map(
								document.getElementById('mapCapteur'), {zoom: 17, center: location});

						var marker = new google.maps.Marker({position: location, map: map});
					}


				</script>
				<div class="row mt-4" >
					<div class="sensorsContainer text-center col-12 col-md-12 col-sm-12">

						<div id="temperature0" class="gauge mx-4" ></div>
						<div id="brightness0" class="gauge mx-4"></div>
						<div id="battery0" class="gauge mx-4"></div>
					</div>
				</div>
			</div>


			<script async defer
					src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcKwxj6ZNHR5rdHZ3bvdRyE7MHp0oJJzU&callback=initMap">
			</script>
		</div>
	</div>
</div>
</html>